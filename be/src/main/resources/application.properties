spring.application.name=flow
server.port=8081

app.private-key.path=classpath:cert/private.pem
app.public-key.path=classpath:cert/public.pem

spring.r2dbc.url=r2dbc:postgresql://localhost:5432/flow_dev
spring.r2dbc.username=flow_developer
spring.r2dbc.password=flowdev123

# Redis configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms
spring.data.redis.connect-timeout=2000ms

logging.level.org.springframework.security=DEBUG
logging.level.io.r2dbc.spi=DEBUG
logging.level.org.springframework.r2dbc.connection=DEBUG


server.servlet.context-path=/api
spring.webflux.base-path=/api
spring.security.filter.dispatcher-types=error,request

finverse-webclient.base-url=https://api.prod.finverse.net
finverse.webhook.publicKey=-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEuZId/6U0gKLodSihwC/EuMGtULx8\nG3r7X7nZ3KWO5uNVtRTC64MH/1faq9zRp/2iIjCT8erSxiyO6y8wnlqMqw==\n-----END PUBLIC KEY-----

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.group-id=flow-backend
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.properties.spring.json.trusted.packages=sg.flow.events

# Kafka Topics
flow.kafka.topics.finverse-webhook=finverse-webhook-events
flow.kafka.topics.finverse-auth-callback=finverse-auth-callback-events
flow.kafka.topics.finverse-timeout=finverse-timeout-events
flow.kafka.topics.finverse-auth-complete=finverse-auth-complete-events
flow.kafka.topics.finverse-product-complete=finverse-product-complete-events
flow.kafka.topics.transaction-analysis-trigger=transaction-analysis-trigger

# Transaction Analysis Configuration
flow.transaction-analysis.batch-size=50
flow.transaction-analysis.max-retries=3
flow.transaction-analysis.retry-delay-ms=1000
flow.transaction-analysis.enabled=true
flow.transaction-analysis.processing-timeout-ms=300000
flow.transaction-analysis.max-concurrent-batches=3

# AWS Configuration
aws.region=us-east-1

# AWS Bedrock Agent Configuration
aws.bedrock.region=us-east-1
aws.bedrock.agent-id=N8IR2MXV8S
aws.bedrock.agent-alias-id=FEVGAIMVUS
aws.bedrock.session-id=transaction-analysis-session
aws.bedrock.max-tokens=1000
aws.bedrock.temperature=0.1
aws.bedrock.timeout-ms=30000
aws.bedrock.max-retries=3
aws.bedrock.base-retry-delay-ms=1000
aws.bedrock.max-retry-delay-ms=30000
